{"version":3,"sources":["./src/app/pages/login/components/input/input.component.html","./src/app/pages/login/login.page.html","./src/app/Shared/Services/Loader/loading.service.ts","./src/app/pages/login/components/input/input.component.scss","./src/app/pages/login/components/input/input.component.ts","./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.ts"],"names":[],"mappings":"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","file":"pages-login-login-module-es2015.js","sourcesContent":["export default \"<ion-content>\\n  <ion-item>\\n    <ion-input [placeholder]=\\\"placeholder\\\" [formControl]=\\\"control\\\"></ion-input>\\n  </ion-item>\\n</ion-content>\";","export default \"<ion-content class=\\\"displayContents\\\">\\n  <div class=\\\"login-form\\\">\\n      <app-input *ngIf=\\\"loginStage == 1\\\" [validators]=\\\"emailValidators\\\" [control]=\\\"email\\\" placeholder=\\\"Email\\\"></app-input>\\n\\n      <app-input *ngIf=\\\"loginStage == 2\\\" [validators]=\\\"otpValidator\\\" [control]=\\\"otp\\\" max=\\\"6\\\" placeholder=\\\"OTP\\\"></app-input>\\n      <p class=\\\"ion-text-end\\\" *ngIf=\\\"loginStage == 2\\\" (click)=\\\"resendOtp()\\\">Resend OTP</p>\\n      \\n      <ion-button (click)=\\\"login()\\\" color=\\\"primary\\\" expand=\\\"block\\\">{{ loginStage == 1 ? 'Send OTP' : 'Submit' }}</ion-button>\\n    </div>\\n</ion-content>\";","import { Injectable } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoadingService {\n  public loader: any;\n  constructor(\n    public loadingController: LoadingController,\n  ) {\n  }\n\n  async create() {\n    this.loader = await this.loadingController.create({\n      message: 'Please wait...',\n      spinner: 'crescent',\n      duration: 2000\n\n    });\n    return this.loader.present();\n  }\n\n  async dismiss() {\n    this.loader.dismiss();\n  }\n}\n","export default \"ion-input {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbG9naW4vY29tcG9uZW50cy9pbnB1dC9pbnB1dC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9sb2dpbi9jb21wb25lbnRzL2lucHV0L2lucHV0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWlucHV0IHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il19 */\";","import { Component, OnInit, Input, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-input',\n  templateUrl: './input.component.html',\n  styleUrls: ['./input.component.scss'],\n})\nexport class InputComponent implements OnInit {\n  @Input('placeholder') placeholder: String;\n  @Input('validators') validators\n  @Input('value') value: String;\n  @Input('control') control: FormControl;\n  \n  constructor() { }\n\n  ngOnInit() {\n    if(this.value)\n      this.control.setValue(this.value)\n\n    if(this.validators)\n      this.control.setValidators(this.validators)\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { InputComponent } from './components/input/input.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { AuthService } from './../../Shared/Services/Authentication/auth.service';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [\n    LoginPage,\n    InputComponent\n  ]\n})\nexport class LoginPageModule {}\n","export default \".login-form {\\n  display: block;\\n  height: 6%;\\n  margin-top: 75%;\\n  width: 70%;\\n  margin-left: 15%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtFQUNBLFVBQUE7RUFDQSxlQUFBO0VBQ0EsVUFBQTtFQUNBLGdCQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW4tZm9ybXtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBoZWlnaHQ6IDYlO1xuICAgIG1hcmdpbi10b3A6IDc1JTtcbiAgICB3aWR0aDogNzAlO1xuICAgIG1hcmdpbi1sZWZ0OiAxNSU7XG59Il19 */\";","import { FormControl, Validators } from \"@angular/forms\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { AuthService } from \"./../../Shared/Services/Authentication/auth.service\";\nimport { Router } from \"@angular/router\";\nimport { HttpService } from \"src/app/Shared/Services/HttpService/http.service\";\nimport { User } from \"src/app/Shared/Models/user\";\nimport { LoadingService } from 'src/app/Shared/Services/Loader/loading.service';\nimport { ToastService } from 'src/app/Shared/Services/Toast/toast.service';\n\n@Component({\n  selector: \"app-login\",\n  templateUrl: \"./login.page.html\",\n  styleUrls: [\"./login.page.scss\"],\n})\nexport class LoginPage implements OnInit {\n  loginStage = 1;\n  email = new FormControl();\n  emailValidators = Validators.compose([Validators.required]);\n\n  protected user: User;\n  protected otp = new FormControl();\n  protected randomOtp: Number;\n  constructor(\n    private auth: AuthService,\n    private router: Router,\n    private http: HttpService,\n    private loader: LoadingService,\n    private toast: ToastService\n  ) {}\n\n  ngOnInit() {}\n\n  login() {\n    if (this.loginStage == 1) {\n      this.randomOtp = Math.round(Math.random() * 1000);\n      console.log(this.randomOtp);\n      this.authenticate()\n    } else {\n      if (this.otp.value == this.randomOtp) {\n        this.auth.authenticate();\n      } else {\n        this.toast.simpletoast('Invalid OTP')\n      }\n    }\n  }\n\n  authenticate(){\n    this.loader.create();\n    this.auth.login(this.email.value, this.randomOtp).then((user: User) => {\n      this.loader.dismiss();\n      this.user = user;\n      this.loginStage = 2;\n    });\n  }\n\n  resendOtp(){\n    this.randomOtp = Math.round(Math.random() * 1000);\n    this.authenticate()\n  }\n}\n"],"sourceRoot":"webpack:///"}